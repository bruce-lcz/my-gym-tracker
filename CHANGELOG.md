# 更新日誌

## v1.7.0 - 2025-12-25 🎄

### ✨ 新功能

- **動態動作資料載入**
  - 從 Google Sheets 的「Exercises」分頁動態載入動作資料
  - 新增 `getExercises()` API 端點，支援即時同步動作清單
  - 實作三層資料優先級：Google Sheets → localStorage 自訂動作 → 預設動作
  - 新增完整的錯誤處理與日誌記錄機制

- **輪播勵志語錄**
  - 首頁勵志語錄每 10 秒自動輪播
  - 使用 React hooks 實現流暢的切換效果
  - 提升使用者參與度與訓練動力

### 🎨 視覺與主題優化

- **CSS 主題系統重構**
  - 大幅優化 CSS 程式碼，減少 47% 檔案大小 (566 行刪除, 294 行新增)
  - 整合重複的 CSS 規則，提升維護性
  - 改善深色模式實作，更好的變數使用
  - 優化 Bruce 和 Linda 使用者專屬主題變數

### 🛠️ 技術改進

- **API 與配置優化**
  - 新增 Vite proxy 配置，改善 Google Apps Script API 連線
  - 實作智慧 URL 處理：支援絕對路徑 (production) 和相對路徑 (dev)
  - 強化型別安全：修復 `s.weight.includes` TypeError
  - 更新 TypeScript 配置，提升型別檢查能力
  - 改善錯誤處理與 proxy 連線管理

### 📚 文件更新

- 新增完整的 Google Sheets 設定指南 (`docs/GOOGLE_SHEET_SETUP.md`)
- 更新 AppScript 文件，包含 Exercises 分頁設定說明
- 提供詳細的欄位結構與配置步驟

### 🐛 錯誤修復

- 修復 `TypeError: s.weight.includes is not a function` 問題
- 解決 CORS 相關問題，改善 proxy 配置
- 修正多個型別安全問題

---

## v1.6.0 - 2025-12-24

### 🔧 配置與整合改進

- **CORS 問題解決**
  - 修復本地開發環境與 Google Apps Script 的 CORS 錯誤
  - 優化 `Access-Control-Allow-Origin` 標頭設定
  - 改善客戶端與伺服器端的通訊配置

- **Proxy 配置優化**
  - 解決「Invalid URL」錯誤
  - 調整 Vite 開發伺服器的 proxy 設定
  - 確保本地開發與生產環境的一致性

### 🛠️ 技術改進

- 更新依賴套件版本
- 改善錯誤處理機制
- 優化開發環境配置

---

## v1.5.0 - 2025-12-24

### 📚 文件與專案管理

- **專案文件更新**
  - 更新 v1.4.0 版本的完整文件
  - 整理專案結構說明
  - 改善 README 與設定指南

### 🔄 分支管理

- 同步 dev 分支與 GitHub
- 合併主分支的最新變更
- 優化 Git 工作流程

---

## v1.4.0 - 2025-12-23

### ✨ 新功能

- **互動式統計儀表板**
  - 點擊「最常練的動作」圖表可選擇動作並自動滾動至詳細區塊
  - 懸停時顯示豐富的提示框，包含最近訓練組數 (例如: "50kg@12")
  - 新增 `ExerciseDetail` 組件，展示：
    - 個人紀錄 (PR) 與總訓練量統計
    - 最大重量進度折線圖
    - 可滾動的歷史訓練紀錄列表

- **有氧運動支援**
  - 新增動作類型區分：重量訓練 vs 有氧運動
  - 有氧運動專屬輸入欄位：速度 (kph)、坡度 (%)、時間 (min)
  - 智慧資料映射：將有氧數據儲存於現有 Google Sheet 結構
  - 歷史紀錄自動偵測並格式化有氧訓練顯示 (例如: "30 min (Spd:9 Inc:1)")

### 🎨 視覺與主題優化

- **Linda 主題更新**
  - 將粉色主題替換為溫暖的「梅納德」(Maillard) 色調
  - 採用大地色系：棕色、米色、拿鐵色
  - 圖表配色動態適應使用者主題 (Bruce: 綠色系 / Linda: 大地色系)

- **提示框增強**
  - 深色背景提升可讀性與對比度
  - 更清晰的資訊層次與視覺引導

### 🛠️ 技術改進

- 擴展 `SetData` 類型以支援有氧運動欄位 (incline, speed, time)
- 新增 `Exercise` 類型屬性以區分訓練類型
- 優化圖表互動邏輯與自動滾動體驗
- 改善資料處理與顯示邏輯的模組化

---

## v1.3.0 - 2025-12-20

### ✨ 新功能

- **全新側邊欄導覽系統**
  - 響應式側邊欄設計,支援電腦端收合與手機端抽屜式選單
  - 整合多個功能入口:統計儀表板、新增訓練、訓練紀錄
  - 全新「版本紀錄」抽屜,直接從原始碼載入最新更新資訊

- **動態啟發語錄**
  - 首頁頂部隨機切換激勵人心的健身語錄
  - 增加訓練時的沉浸感與動力

### 🎨 視覺與交互優化

- **佈局重構**: 從單頁 Tab 切換進化為側邊欄導覽,提升擴展性
- **動態圖標**: 更多 Lucide 圖標應用,強化視覺導引
- **主題色調微調**: 優化深色模式下的對比度與層次感

---

## v1.2.0 - 2025-12-19

### 📊 統計儀表板 (Dashboard)

- **數據可視化整合**
  - 整合 [Recharts](https://recharts.org/) 繪圖庫
  - **訓練部位分佈圖**: 圓餅圖呈現各肌群訓練比例
  - **熱門動作排行榜**: 橫向柱狀圖顯示最常練習的 Top 5 動作
  - **範例數據模式**: 提供 Demo Data 按鈕,方便無數據時快速預覽效果

### 🛠️ 技術改進

- **模組化組件**: 拆分 Dashboard 組件,保持代碼整潔
- **自動化數據處理**: 根據訓練紀錄自動計算肌群分佈與頻率

---

## v1.1.0 - 2025-12-17

### ✨ 新功能

- **版本紀錄系統**
  - 新增「版本紀錄」Tab,可以記錄和管理應用程式的版本更新
  - 支援四種類型的更新:新功能、錯誤修復、優化改進、重大變更
  - 可新增多個變更項目,記錄詳細的更新內容
  - 支援刪除版本紀錄
  - 使用 localStorage 在本地保存版本紀錄
  - 預設包含兩個示例版本紀錄,展示功能用法

- **Tab 導航系統**
  - 新增三個主要 Tab:新增訓練、訓練紀錄、版本紀錄
  - 美觀的 Tab 切換動畫效果
  - 響應式設計,在手機上自動調整為縱向排列

- **圖標系統升級**
  - 整合 [Lucide React](https://lucide.dev/) 圖標庫
  - 替換所有 emoji 為專業的 SVG 圖標
  - 為所有按鈕添加對應的圖標

### 🎨 視覺改進

- 標題加入健身圖標
- 所有按鈕統一使用 flexbox 布局,圖標與文字對齊更美觀
- Tab 導航加入漸層背景和活動狀態指示
- 版本紀錄卡片設計

### 📱 響應式優化

- Tab 導航在手機上自動適配
- 版本紀錄在小螢幕上優化排版
- 圖標大小在不同螢幕尺寸下自動調整

### 🌙 深色模式

- 為所有新增的 UI 元素添加深色模式支援
- Tab 導航在深色模式下的配色
- 版本紀錄卡片在深色模式下的樣式
- 類型標籤在深色模式下的顏色調整

### 🛠️ 技術改進

- 新增 `ReleaseNote` 類型定義
- 更新 TypeScript 類型系統
- 優化組件狀態管理
- 改善代碼組織結構

## v1.0.0 - 2025-12-17

### ✨ 初始發布

- 基本訓練記錄功能
- Google Sheets 整合
- 深色/淺色主題切換
- 自訂動作功能
- 響應式設計
